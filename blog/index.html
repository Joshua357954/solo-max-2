<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Solomax | Blog</title>
	<link rel="icon" href="../assets/images/favicon.ico">
	<link rel="stylesheet" type="text/css" href="./style.css">
	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-C2PWNNYFVC"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-C2PWNNYFVC');
	</script>
	</head>
	
<body >
	
	<nav class="navbar">
			<div class="navbar_box">

				<div class="nav_img_box">
					<a href="../index.html"><img class='logo' src="../assets/images/so-max_Renew.png
					"></a>
				</div>

				
				<div class="navlinks_box">
					
					<img class="navmenu-icon" src="../assets/images/menu (3).svg">
					
					<ul class="nvb">
						
						
						<a class="li" href="../index.html">
						    <li class="ls">
						        <img class="li-img" src="../assets/images/new_home.svg">
						        <p>Home</p>
						    </li>
						</a>

						<a class="li" href="../blog/index.html">
						    <li class="ls">
						        <img class="li-img reduce" src="../assets/images/new_blog.svg">
						        <p>Blog</p>
						    </li>
						</a>

						<a class="li" href="../about/index.html">
						    <li class="ls">
						        <img class="li-img" src="../assets/images/new_about.svg">
						        <p>About</p>
						    </li>
						</a>

						<a class="li" href="../services/index.html">
						    <li class="ls">
						        <img class="li-img" src="../assets/images/new_services.svg">
						        <p>Services</p>
						    </li>
						</a>

					</ul>
				</div>

			</div>
		</nav>

	<header class="header">
		<h1 class="blog-title"> Blog </h1>
		
		<ul class="header-categories">
			<li onclick="filterPosts('all')">All</li>
			<li>Latest</li>
			
			<div class="filter">
			    <img class="li-img" src="../assets/images/filter-list-svgrepo-com.svg" alt="Filter Icon">
			 
				<select id="dropdownSelect">
					<option value="" disabled selected>Filter By:</option>
					<!-- <option value="visualeffect">Vis-Effect</option>
					<option value="motiongraphics">Mo-Graphics</option>
					<option value="rigging">Rigging</option>
					<option value="modeling">Modeling</option> -->
				</select>
			</div>
		</ul>

	</header>



	<!--  All blog section -->
	<main class="blog_container">

			<div class="blog-card"> 
			  <a href="blog.html" class="between">
			    <div class="bc_inner">
			      <div class="bc_img" style="width: 100%; min-height: 50%; background-image: url('https://www.tubebuddy.com/wp-content/uploads/2024/01/4-1024x576.jpg'); background-position: center; object-fit: cover; background-repeat: no-repeat; background-size: cover;border-top-right-radius: .6rem; border-top-left-radius: .6rem;">
			      </div>

			      <ul>
			      	<li>#Creative Drawing</li>
			      	<li>#Artistica</li>
			      	<li>#Sculpture</li>
			      </ul>
			      <h5 >Unlocking the Secrets of 3D Texturing: 8 Techniques Wow-How Experts Recommend Trying</h5> 
			    </div>

			    <div class="bc_meta">	
			    	<img class="img" src="../assets/images/So-max_Mountain.png"> 
			    	<div class="data">	
			    		<p>Solomax</p>
			    		<p>January 4, 2024</p>
			    	</div>
			    </div>	
			  </a>
			</div>


		<div class="blog-card"> 
			  <a href="blog.html" class="between">
			    <div class="bc_inner">
			      <div class="bc_img" style="width: 100%; min-height: 50%; background-image: url('https://www.tubebuddy.com/wp-content/uploads/2024/01/4-1024x576.jpg'); background-position: center; object-fit: cover; background-repeat: no-repeat; background-size: cover;border-top-right-radius: .6rem; border-top-left-radius: .6rem;">
			      </div>

			      <ul>
			      	<li>#Creative Drawing</li>
			      	<li>#Artistica</li>
			      	<li>#Sculpture</li>
			      </ul>
			      <h5 >Unlocking the Secrets of 3D Texturing: 8 Techniques Wow-How Experts Recommend Trying</h5> 
			    </div>

			    <div class="bc_meta">	
			    	<img class="img" src="../assets/images/So-max_Mountain.png"> 
			    	<div class="data">	
			    		<p>Solomax</p>
			    		<p>January 4, 2024</p>
			    	</div>
			    </div>	
			  </a>
			</div>
	
</main>


	<!--  Newsletter -->
<section style="padding:40px 25px; ">

   <div class="newsletter-box">
        <h2>Subscribe to Our Newsletter</h2>
        <p>Get the latest news and updates delivered to your inbox.</p>
        <form>
            <input type="email" placeholder="Enter your email" required>
            <button type="submit">Subscribe</button>
        </form>
    </div>
	
</section>


 <footer>
        <div class="footer-content">
            <div class="footer-links">
            	<h3>Quick Links</h3>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="blog/index.html">Blog</a></li>
                    <li><a href="../services/index.html">Services</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            <div class="footer-info">
                <h3>Contact Us</h3>
                <p>
                   124 Chief Worlu Street<br>
                    Portharcourt City, PH 9858<br>
                    <b>Email:</b>  info@solomaxstudio.com<br>
                    <b>Phone:</b> <a style="color: black;text-decoration: none;" href="tel:09034533840">(+234) 903 4533 840</a>
                </p>
            </div>
            <div class="footer-social">
                <h3>Follow Us</h3>
                <ul>
                    
                    <li><a href="https://behance.net/solomaxstudios" target="blank" class="social-icon"><img src="../assets/images/behance-color-svgrepo-com.svg"></a>
                    </li>

                    <li><a href="https://instagram.com/Solomaxstudios" class="social-icon" target="blank" ><img src="../assets/images/instagram-2016-logo-svgrepo-com.svg"></a></li>
                    
                    <li>
                    	<a href="https://linkedin.com/company/solomax-studios" target="blank"class="social-icon"><img src="../assets/images/linkedin (1).svg">
                    	</a>
                    </li>
                    
                    <li><a href="https://youtube.com/@Solomaxstudios" target="blank" class="social-icon"><img src="../assets/images/youtube-you-tube-video-svgrepo-com.svg"></a>
                    </li>


                </ul>
            </div>
        </div>

    </footer>

	<footer class="footer-2">
		&copy;  SoloMax - Studios <span style="margin-left: 7px" id="current-year"></span>
	</footer>


<script src="../mdParser.js" async></script>

<script >
	const nav_icon = document.querySelector('.navmenu-icon') 
	const mobile_nav1 = document.querySelector('.navlinks_box')
	const mobile_nav = document.querySelector('.nvb')

	nav_icon.addEventListener('click',() => {	
		mobile_nav.classList.toggle('active')
		nav_icon.src = '../assets/images/close.png'
		
		if (mobile_nav.classList.contains('active'))
		    nav_icon.src = '../assets/images/close-svgrepo-com.svg' 
		else
		    nav_icon.src = '../assets/images/menu (3).svg';
	} )

	  const currentYear = new Date().getFullYear();

	// Update the content of the "current-year" span
	document.getElementById('current-year').innerText = currentYear;





	const blogContainer = document.querySelector('.blog_container')



	// Blog Nav Selection 
	const blogTitle = document.querySelector('.blog-title')
	const blogNav = document.querySelector('.header-categories')
	const ListItem = blogNav.querySelectorAll('li')


	//  Extract unique categories for dropdown
	// const uniqueCategories = [...new Set(BlogData.flatMap(post => post.category))];


	// Nav Selection Functionality
	ListItem.forEach(li => li.addEventListener('click',() => {
		var category = li.textContent
		blogTitle.innerText = lower(category) == 'all' ? 
		"Blog" : category
		// filterPosts(category)
	}))


	// Define the async function to fetch file details and load content
	async function fetchAndLoadContent(folder) {
	  const repositoryOwner = 'Joshua357954';
	  const repositoryName = 'solo-max-2';
	  const folderPath = `content/${folder}`;

	  try {
	    // Fetch file details from the GitHub repository
	    const response = await fetch(`https://api.github.com/repos/${repositoryOwner}/${repositoryName}/contents/${folderPath}`);

	    // Parse the response as JSON
	    const data = await response.json();

	    // Use Promise.all to concurrently load content from all files
	    const fileDetails = await Promise.all(data.map(async file => {
	      try {
	        // Fetch the content of the file
	        const contentResponse = await fetch(`../content/${folder}/${file.name}`);
	        const markdownContent = await contentResponse.text();

	        // Parse the markdown content using the MdParser class
	        const markDParser = new MdParser(markdownContent);

	        // Return an object containing both file details, front matter, and body
	        return {
	          fileName: file.name,
	          frontMatter: markDParser.getFrontmatter()
	        };
	      } catch (contentError) {
	        console.error('Error fetching content:', contentError);

	        // Return an object with error details in case of an error
	        return {
	          fileDetails: file,
	          frontMatter: {},
	          body: '',
	          error: contentError
	        };
	      }
	    }));

	    // Log the details of loaded files
	    // console.log('Files Details:', fileDetails);
	    return fileDetails;
	  } catch (error) {
	    console.error('Error fetching file list:', error);

	    // Return an empty array in case of an error
	    return [];
	  }
	}

	let catData;

	async function filterPosts(selectedCategory) {
	    blogContainer.innerHTML = '';
	    
	    console.log('Filtering Post')

	    const BlogData = await fetchAndLoadContent('posts')
	    const filteredPosts = BlogData.filter(post => {
		    return lower(selectedCategory) === 'all' || lower(post.frontMatter.category) === lower(selectedCategory);
			});

	    if (!catData){
	    	// console.log("CAATA")
	    	const categoryData = [...new Set(BlogData.map(post => post.frontMatter.category))]
	    	categoryData.forEach(category => {
			    const option = document.createElement('option');
			    option.value = category;
			    option.innerText = category;
			    dropdownSelect.appendChild(option);
			});
			catData = true
	    }

	    // console.log(BlogData[0])
	    // console.log(filteredPosts)

	    filteredPosts.forEach(post => {
	    	const formattedDate = new Date(post.frontMatter.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });

	        const blogPost = `
	            <div class="blog-card"> 
	                <a href="blog.html?filename=${post.fileName}" class="between">
	                    <div class="bc_inner">
	                        <div class="bc_img" style="width: 100%; min-height: 50%; background-image: url('${post.frontMatter.imageUrl}'); background-position: center; object-fit: cover; background-repeat: no-repeat; background-size: cover; border-top-right-radius: .6rem; border-top-left-radius: .6rem;">
	                        </div>

	                        <ul>
	                            <li>#${post.frontMatter.category}</li>
	                        </ul>
	                        <h5>${post.frontMatter.title}</h5> 
	                    </div>

	                    <div class="bc_meta">    
	                        <img class="img" src="../assets/images/So-max_Mountain.png"> 
	                        <div class="data">    
	                            <p>${post.frontMatter.author}</p>
	                            <p>${post.formattedDate}</p> <!-- Assuming 'data' should be 'date' -->
	                        </div>
	                    </div>  
	                </a>
	            </div>`;

	        // Append the new content using insertAdjacentHTML
	        blogContainer.insertAdjacentHTML('beforeend', blogPost);
	    });

	}



    const dropdownSelect = document.getElementById('dropdownSelect');
    
    dropdownSelect.addEventListener('change', function () {
        const selectedOption = dropdownSelect.value;
        blogTitle.innerText = lower(selectedOption)
        filterPosts(lower(selectedOption));
    });
    const lower = (word) => word.toLowerCase()

    // Initial display (show all posts)
    filterPosts('all');



</script>

</body>
</html>